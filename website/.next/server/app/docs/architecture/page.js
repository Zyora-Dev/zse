(()=>{var e={};e.id=555,e.ids=[555],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4650:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>d});var i=s(482),r=s(9108),l=s(2563),n=s.n(l),a=s(8300),c={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>a[e]);s.d(t,c);let d=["",{children:["docs",{children:["architecture",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9177)),"/Users/redfoxhotels/zse/website/src/app/docs/architecture/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9231)),"/Users/redfoxhotels/zse/website/src/app/docs/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7633)),"/Users/redfoxhotels/zse/website/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/redfoxhotels/zse/website/src/app/docs/architecture/page.tsx"],m="/docs/architecture/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/docs/architecture/page",pathname:"/docs/architecture",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4078:(e,t,s)=>{Promise.resolve().then(s.bind(s,8840))},8840:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var i=s(5344),r=s(1499),l=s(196),n=s(1812),a=s(9039);let c=[{id:"overview",title:"Overview",level:2},{id:"components",title:"Core Components",level:2},{id:"inference-flow",title:"Inference Flow",level:2},{id:"memory-architecture",title:"Memory Architecture",level:2}];function d(){return(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsxs)("article",{className:"flex-1 min-w-0 py-8 px-6 lg:px-10",children:[i.jsx(r.lv,{title:"Architecture",description:"Deep dive into ZSE's internal architecture, component design, and how the pieces fit together.",badge:"Core Concepts"}),(0,i.jsxs)(r.Je,{id:"overview",title:"Overview",children:[i.jsx("p",{className:"mb-4",children:"ZSE is designed with one goal: minimize time-to-first-token while maintaining high throughput. The architecture consists of five core components that work together to achieve this."}),i.jsx("div",{className:"my-6 p-6 rounded-lg border border-white/[0.06] bg-white/[0.02]",children:(0,i.jsxs)("div",{className:"text-center text-sm font-mono",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"px-3 py-2 rounded bg-lime/20 text-lime border border-lime/30",children:"zQuantize"}),i.jsx("span",{className:"text-white/30",children:"→"}),i.jsx("div",{className:"px-3 py-2 rounded bg-white/10 text-white/70 border border-white/10",children:".zse File"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"px-3 py-2 rounded bg-blue-500/20 text-blue-400 border border-blue-500/30",children:"zServe"}),i.jsx("span",{className:"text-white/30",children:"↔"}),i.jsx("div",{className:"px-3 py-2 rounded bg-purple-500/20 text-purple-400 border border-purple-500/30",children:"zInfer"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"px-3 py-2 rounded bg-orange-500/20 text-orange-400 border border-orange-500/30",children:"zStream"}),i.jsx("span",{className:"text-white/30",children:"+"}),i.jsx("div",{className:"px-3 py-2 rounded bg-pink-500/20 text-pink-400 border border-pink-500/30",children:"zKV"})]})]})})]}),(0,i.jsxs)(r.Je,{id:"components",title:"Core Components",children:[(0,i.jsxs)(r.KU,{id:"zquantize-component",title:"zQuantize",children:[(0,i.jsxs)("p",{className:"mb-4",children:["The quantization engine that converts models to the optimized ",i.jsx(l.Z,{children:".zse"})," format."]}),i.jsx(a.VS,{features:["INT4, INT8, NF4 quantization schemes","Per-tensor scaling for minimal quality loss","Optimized memory layout for sequential loading","Preserves tokenizer and model config"]})]}),(0,i.jsxs)(r.KU,{id:"zserve-component",title:"zServe",children:[i.jsx("p",{className:"mb-4",children:"OpenAI-compatible HTTP server for production deployments."}),i.jsx(a.VS,{features:["Full OpenAI API compatibility","Server-Sent Events streaming","Batch processing support","API key authentication"]})]}),(0,i.jsxs)(r.KU,{id:"zinfer-component",title:"zInfer",children:[i.jsx("p",{className:"mb-4",children:"Low-level inference engine powering both CLI and API."}),i.jsx(a.VS,{features:["Direct tensor operations","Async token generation","Multi-GPU support","Dynamic batching"]})]}),(0,i.jsxs)(r.KU,{id:"zstream-component",title:"zStream",children:[i.jsx("p",{className:"mb-4",children:"Layer streaming for running models larger than available VRAM."}),i.jsx(a.VS,{features:["GPU ↔ CPU layer offloading","Automatic memory management","Run 70B models on 24GB GPUs","Minimal latency overhead"]})]}),(0,i.jsxs)(r.KU,{id:"zkv-component",title:"zKV",children:[i.jsx("p",{className:"mb-4",children:"Quantized KV cache for 4\xd7 memory savings during generation."}),i.jsx(a.VS,{features:["8-bit KV cache quantization","Paged attention support","Longer context windows","Sub-1% quality impact"]})]})]}),(0,i.jsxs)(r.Je,{id:"inference-flow",title:"Inference Flow",children:[i.jsx("p",{className:"mb-4",children:"When a request comes in, here's what happens:"}),(0,i.jsxs)("div",{className:"space-y-4 my-6",children:[(0,i.jsxs)("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-lime/20 border border-lime/40 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-bold text-lime",children:"1"})}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-white font-medium",children:"Request Received"}),i.jsx("p",{className:"text-sm text-white/50",children:"zServe validates the request and adds it to the batch queue"})]})]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-lime/20 border border-lime/40 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-bold text-lime",children:"2"})}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-white font-medium",children:"Tokenization"}),i.jsx("p",{className:"text-sm text-white/50",children:"Input text is converted to token IDs using the model's tokenizer"})]})]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-lime/20 border border-lime/40 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-bold text-lime",children:"3"})}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-white font-medium",children:"Forward Pass"}),i.jsx("p",{className:"text-sm text-white/50",children:"zInfer runs the model layers, storing KV cache with zKV"})]})]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-lime/20 border border-lime/40 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-bold text-lime",children:"4"})}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-white font-medium",children:"Token Sampling"}),i.jsx("p",{className:"text-sm text-white/50",children:"Apply temperature, top-p, and sample next token"})]})]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-lime/20 border border-lime/40 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-bold text-lime",children:"5"})}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-white font-medium",children:"Streaming Response"}),i.jsx("p",{className:"text-sm text-white/50",children:"Tokens are decoded and streamed back via SSE"})]})]})]})]}),(0,i.jsxs)(r.Je,{id:"memory-architecture",title:"Memory Architecture",children:[i.jsx("p",{className:"mb-4",children:"ZSE uses a three-tier memory hierarchy:"}),i.jsx("div",{className:"overflow-x-auto my-4",children:(0,i.jsxs)("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-white/10",children:[i.jsx("th",{className:"text-left py-2 pr-4 text-white/50 font-medium",children:"Tier"}),i.jsx("th",{className:"text-left py-2 px-4 text-white/50 font-medium",children:"Storage"}),i.jsx("th",{className:"text-left py-2 px-4 text-white/50 font-medium",children:"Content"}),i.jsx("th",{className:"text-left py-2 pl-4 text-white/50 font-medium",children:"Access Speed"})]})}),(0,i.jsxs)("tbody",{className:"text-white/70",children:[(0,i.jsxs)("tr",{className:"border-b border-white/[0.05]",children:[i.jsx("td",{className:"py-2 pr-4 text-lime",children:"Hot"}),i.jsx("td",{className:"py-2 px-4",children:"GPU VRAM"}),i.jsx("td",{className:"py-2 px-4",children:"Active layers, KV cache"}),i.jsx("td",{className:"py-2 pl-4",children:"~1 TB/s"})]}),(0,i.jsxs)("tr",{className:"border-b border-white/[0.05]",children:[i.jsx("td",{className:"py-2 pr-4 text-yellow-400",children:"Warm"}),i.jsx("td",{className:"py-2 px-4",children:"System RAM"}),i.jsx("td",{className:"py-2 px-4",children:"Offloaded layers (zStream)"}),i.jsx("td",{className:"py-2 pl-4",children:"~50 GB/s"})]}),(0,i.jsxs)("tr",{children:[i.jsx("td",{className:"py-2 pr-4 text-blue-400",children:"Cold"}),i.jsx("td",{className:"py-2 px-4",children:"Disk (.zse)"}),i.jsx("td",{className:"py-2 px-4",children:"Model weights"}),i.jsx("td",{className:"py-2 pl-4",children:"~3 GB/s (NVMe)"})]})]})]})}),(0,i.jsxs)(n.U,{type:"tip",children:["The ",i.jsx(l.Z,{children:".zse"})," format is designed for memory-mapped loading, which means the OS kernel efficiently pages weights from disk as needed."]})]}),i.jsx(r.KO,{prev:{title:"First Model",href:"/docs/first-model"},next:{title:"Model Formats",href:"/docs/model-formats"}})]}),i.jsx(r.o5,{items:c})]})}},9039:(e,t,s)=>{"use strict";s.d(t,{Rg:()=>a,VS:()=>c,Zb:()=>d,gy:()=>o});var i=s(5344),r=s(1912),l=s(2312),n=s(1453);function a({steps:e}){return i.jsx("div",{className:"my-6 space-y-0",children:e.map((t,s)=>(0,i.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"relative pl-8 pb-8 last:pb-0",children:[s<e.length-1&&i.jsx("div",{className:"absolute left-[11px] top-6 bottom-0 w-px bg-white/10"}),i.jsx("div",{className:"absolute left-0 top-0 w-6 h-6 rounded-full bg-lime/20 border border-lime/40 flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold text-lime",children:s+1})}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-white mb-1",children:t.title}),t.description&&i.jsx("p",{className:"text-sm text-white/50 mb-3",children:t.description}),t.code&&i.jsx("pre",{className:"bg-white/[0.03] border border-white/[0.06] rounded-lg p-3 overflow-x-auto my-2",children:i.jsx("code",{className:"text-sm text-lime/90 font-mono",children:t.code})}),t.content&&i.jsx("div",{className:"text-sm text-white/70",children:t.content})]})]},s))})}function c({features:e}){return i.jsx("ul",{className:"my-4 space-y-2",children:e.map((e,t)=>(0,i.jsxs)(r.E.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"flex items-start gap-2",children:[i.jsx(l.Z,{className:"w-4 h-4 text-lime mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-white/70",children:e})]},t))})}function d({title:e,description:t,icon:s,href:l,children:a}){let c=l?"a":"div";return i.jsx(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:l?{y:-2}:void 0,children:(0,i.jsxs)(c,{...l?{href:l,className:"block"}:{},className:(0,n.cn)("p-4 rounded-lg border border-white/[0.06] bg-white/[0.02]",l&&"hover:border-lime/30 hover:bg-white/[0.04] transition-all cursor-pointer"),children:[s&&i.jsx("div",{className:"w-8 h-8 rounded-lg bg-lime/10 flex items-center justify-center mb-3",children:i.jsx(s,{className:"w-4 h-4 text-lime"})}),i.jsx("h4",{className:"text-base font-semibold text-white mb-1",children:e}),t&&i.jsx("p",{className:"text-sm text-white/50",children:t}),a]})})}function o({children:e,columns:t=2}){return i.jsx("div",{className:(0,n.cn)("grid gap-4 my-6",2===t&&"md:grid-cols-2",3===t&&"md:grid-cols-3"),children:e})}},9177:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let i=(0,s(6843).createProxy)(String.raw`/Users/redfoxhotels/zse/website/src/app/docs/architecture/page.tsx`),{__esModule:r,$$typeof:l}=i,n=i.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[638,498,697,224,782,883],()=>s(4650));module.exports=i})();