(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4899],{5346:function(e,n,s){Promise.resolve().then(s.bind(s,2403))},2403:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return d}});var t=s(3827),i=s(9676),o=s(5558),l=s(4657),r=s(4987);let a=[{id:"overview",title:"Overview",level:2},{id:"quick-start",title:"Quick Start",level:2},{id:"dockerfile",title:"Dockerfile",level:2},{id:"docker-compose",title:"Docker Compose",level:2},{id:"gpu-support",title:"GPU Support",level:2},{id:"volumes",title:"Volumes & Persistence",level:2}];function d(){return(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("article",{className:"flex-1 min-w-0 py-8 px-6 lg:px-10",children:[(0,t.jsx)(i.lv,{title:"Docker Deployment",description:"Run ZSE in Docker containers with GPU acceleration for consistent, reproducible deployments.",badge:"Deployment"}),(0,t.jsxs)(i.Je,{id:"overview",title:"Overview",children:[(0,t.jsx)("p",{className:"mb-4",children:"Docker provides isolation and reproducibility for ZSE deployments. Our official images include all dependencies and support NVIDIA GPU acceleration."}),(0,t.jsxs)(r.gy,{columns:3,children:[(0,t.jsx)(r.Zb,{title:"Official Images",description:"Pre-built images on Docker Hub"}),(0,t.jsx)(r.Zb,{title:"GPU Ready",description:"NVIDIA Container Toolkit support"}),(0,t.jsx)(r.Zb,{title:"Compose",description:"Multi-container orchestration"})]})]}),(0,t.jsxs)(i.Je,{id:"quick-start",title:"Quick Start",children:[(0,t.jsx)("p",{className:"mb-4",children:"Run ZSE with a single command using our official Docker image:"}),(0,t.jsx)(o.d,{language:"bash",code:"# Pull the latest image\ndocker pull zyora/zse:latest\n\n# Run with GPU support\ndocker run --gpus all -p 8000:8000 \\\n  zyora/zse:latest \\\n  zse serve Qwen/Qwen2.5-7B-Instruct"}),(0,t.jsx)(l.U,{type:"info",children:"The first run will download the model from HuggingFace. Use a volume to persist models between container restarts."})]}),(0,t.jsxs)(i.Je,{id:"dockerfile",title:"Dockerfile",children:[(0,t.jsx)(i.KU,{id:"official-image",title:"Using Official Image",children:(0,t.jsx)(o.d,{language:"dockerfile",filename:"Dockerfile",code:'FROM zyora/zse:latest\n\n# Copy your pre-converted model\nCOPY ./models/qwen7b.zse /models/\n\n# Set environment variables\nENV ZSE_HOST=0.0.0.0\nENV ZSE_PORT=8000\n\n# Expose the port\nEXPOSE 8000\n\n# Start the server\nCMD ["zse", "serve", "/models/qwen7b.zse"]'})}),(0,t.jsx)(i.KU,{id:"custom-image",title:"Building Custom Image",children:(0,t.jsx)(o.d,{language:"dockerfile",filename:"Dockerfile",code:'FROM nvidia/cuda:12.1-runtime-ubuntu22.04\n\n# Install Python\nRUN apt-get update && apt-get install -y \\\n    python3.10 \\\n    python3-pip \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Install ZSE\nRUN pip install zllm-zse\n\n# Create model directory\nRUN mkdir -p /models\n\n# Set working directory\nWORKDIR /app\n\n# Environment\nENV ZSE_HOST=0.0.0.0\nENV ZSE_PORT=8000\n\nEXPOSE 8000\n\nCMD ["zse", "serve", "/models/model.zse"]'})}),(0,t.jsx)(i.KU,{id:"build",title:"Building the Image",children:(0,t.jsx)(o.d,{language:"bash",code:"# Build the image\ndocker build -t my-zse-app .\n\n# Run with GPU\ndocker run --gpus all -p 8000:8000 my-zse-app"})})]}),(0,t.jsxs)(i.Je,{id:"docker-compose",title:"Docker Compose",children:[(0,t.jsx)(i.KU,{id:"basic-compose",title:"Basic Setup",children:(0,t.jsx)(o.d,{language:"yaml",filename:"docker-compose.yml",code:"version: '3.8'\n\nservices:\n  zse:\n    image: zyora/zse:latest\n    ports:\n      - \"8000:8000\"\n    volumes:\n      - ./models:/models\n    environment:\n      - ZSE_HOST=0.0.0.0\n      - ZSE_PORT=8000\n    deploy:\n      resources:\n        reservations:\n          devices:\n            - driver: nvidia\n              count: 1\n              capabilities: [gpu]\n    command: zse serve /models/qwen7b.zse"})}),(0,t.jsx)(i.KU,{id:"full-stack",title:"Full Stack with Monitoring",children:(0,t.jsx)(o.d,{language:"yaml",filename:"docker-compose.yml",code:'version: \'3.8\'\n\nservices:\n  zse:\n    image: zyora/zse:latest\n    ports:\n      - "8000:8000"\n    volumes:\n      - ./models:/models\n      - ./logs:/var/log/zse\n    environment:\n      - ZSE_HOST=0.0.0.0\n      - ZSE_PORT=8000\n      - ZSE_LOG_FORMAT=json\n    deploy:\n      resources:\n        reservations:\n          devices:\n            - driver: nvidia\n              count: all\n              capabilities: [gpu]\n    command: zse serve /models/qwen7b.zse --metrics\n    healthcheck:\n      test: ["CMD", "curl", "-f", "http://localhost:8000/health"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - "443:443"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf\n      - ./certs:/etc/ssl/certs\n    depends_on:\n      - zse\n\n  prometheus:\n    image: prom/prometheus\n    ports:\n      - "9090:9090"\n    volumes:\n      - ./prometheus.yml:/etc/prometheus/prometheus.yml\n    depends_on:\n      - zse'})}),(0,t.jsx)(i.KU,{id:"compose-commands",title:"Commands",children:(0,t.jsx)(o.d,{language:"bash",code:"# Start services\ndocker-compose up -d\n\n# View logs\ndocker-compose logs -f zse\n\n# Stop services\ndocker-compose down\n\n# Rebuild after changes\ndocker-compose up -d --build"})})]}),(0,t.jsxs)(i.Je,{id:"gpu-support",title:"GPU Support",children:[(0,t.jsxs)(i.KU,{id:"nvidia-toolkit",title:"NVIDIA Container Toolkit",children:[(0,t.jsx)("p",{className:"mb-4",children:"Install the NVIDIA Container Toolkit to enable GPU access in Docker:"}),(0,t.jsx)(o.d,{language:"bash",code:"# Ubuntu/Debian\ncurl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg\n\ncurl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | \\\n  sed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | \\\n  sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list\n\nsudo apt-get update\nsudo apt-get install -y nvidia-container-toolkit\nsudo nvidia-ctk runtime configure --runtime=docker\nsudo systemctl restart docker"})]}),(0,t.jsx)(i.KU,{id:"gpu-flags",title:"GPU Flags",children:(0,t.jsx)(o.d,{language:"bash",code:"# Use all GPUs\ndocker run --gpus all ...\n\n# Use specific GPUs\ndocker run --gpus '\"device=0,1\"' ...\n\n# Use N GPUs\ndocker run --gpus 2 ..."})}),(0,t.jsx)(i.KU,{id:"verify-gpu",title:"Verify GPU Access",children:(0,t.jsx)(o.d,{language:"bash",code:"docker run --gpus all zyora/zse:latest zse hardware\n# Should show detected GPUs"})})]}),(0,t.jsxs)(i.Je,{id:"volumes",title:"Volumes & Persistence",children:[(0,t.jsx)(i.KU,{id:"model-volume",title:"Model Storage",children:(0,t.jsx)(o.d,{language:"bash",code:"# Create a named volume for models\ndocker volume create zse-models\n\n# Run with volume\ndocker run --gpus all -p 8000:8000 \\\n  -v zse-models:/models \\\n  zyora/zse:latest \\\n  zse serve /models/qwen7b.zse"})}),(0,t.jsx)(i.KU,{id:"download-models",title:"Downloading Models",children:(0,t.jsx)(o.d,{language:"bash",code:"# Download and convert a model into the volume\ndocker run --gpus all \\\n  -v zse-models:/models \\\n  zyora/zse:latest \\\n  zse convert Qwen/Qwen2.5-7B-Instruct -o /models/qwen7b.zse\n\n# Now serve it\ndocker run --gpus all -p 8000:8000 \\\n  -v zse-models:/models \\\n  zyora/zse:latest \\\n  zse serve /models/qwen7b.zse"})}),(0,t.jsx)(l.U,{type:"tip",children:"Pre-convert models to .zse format and include them in your image for faster cold starts in production."})]}),(0,t.jsx)(i.KO,{prev:{href:"/docs/deployment/production",title:"Production Setup"},next:{href:"/docs/deployment/kubernetes",title:"Kubernetes"}})]}),(0,t.jsx)(i.o5,{items:a})]})}},4987:function(e,n,s){"use strict";s.d(n,{Rg:function(){return r},VS:function(){return a},Zb:function(){return d},gy:function(){return c}});var t=s(3827),i=s(5293),o=s(9259),l=s(2169);function r(e){let{steps:n}=e;return(0,t.jsx)("div",{className:"my-6 space-y-0",children:n.map((e,s)=>(0,t.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"relative pl-8 pb-8 last:pb-0",children:[s<n.length-1&&(0,t.jsx)("div",{className:"absolute left-[11px] top-6 bottom-0 w-px bg-white/10"}),(0,t.jsx)("div",{className:"absolute left-0 top-0 w-6 h-6 rounded-full bg-lime/20 border border-lime/40 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs font-bold text-lime",children:s+1})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-base font-semibold text-white mb-1",children:e.title}),e.description&&(0,t.jsx)("p",{className:"text-sm text-white/50 mb-3",children:e.description}),e.code&&(0,t.jsx)("pre",{className:"bg-white/[0.03] border border-white/[0.06] rounded-lg p-3 overflow-x-auto my-2",children:(0,t.jsx)("code",{className:"text-sm text-lime/90 font-mono",children:e.code})}),e.content&&(0,t.jsx)("div",{className:"text-sm text-white/70",children:e.content})]})]},s))})}function a(e){let{features:n}=e;return(0,t.jsx)("ul",{className:"my-4 space-y-2",children:n.map((e,n)=>(0,t.jsxs)(i.E.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*n},className:"flex items-start gap-2",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4 text-lime mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-white/70",children:e})]},n))})}function d(e){let{title:n,description:s,icon:o,href:r,children:a}=e,d=r?"a":"div";return(0,t.jsx)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:r?{y:-2}:void 0,children:(0,t.jsxs)(d,{...r?{href:r,className:"block"}:{},className:(0,l.cn)("p-4 rounded-lg border border-white/[0.06] bg-white/[0.02]",r&&"hover:border-lime/30 hover:bg-white/[0.04] transition-all cursor-pointer"),children:[o&&(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-lime/10 flex items-center justify-center mb-3",children:(0,t.jsx)(o,{className:"w-4 h-4 text-lime"})}),(0,t.jsx)("h4",{className:"text-base font-semibold text-white mb-1",children:n}),s&&(0,t.jsx)("p",{className:"text-sm text-white/50",children:s}),a]})})}function c(e){let{children:n,columns:s=2}=e;return(0,t.jsx)("div",{className:(0,l.cn)("grid gap-4 my-6",2===s&&"md:grid-cols-2",3===s&&"md:grid-cols-3"),children:n})}}},function(e){e.O(0,[5293,2150,2716,2971,8069,1744],function(){return e(e.s=5346)}),_N_E=e.O()}]);