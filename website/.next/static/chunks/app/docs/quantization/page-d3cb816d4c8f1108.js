(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9503],{4959:function(e,t,s){Promise.resolve().then(s.bind(s,7409))},7409:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var i=s(3827),l=s(9676),r=s(5558),a=s(4657),n=s(4987);let c=[{id:"overview",title:"Overview",level:2},{id:"how-it-works",title:"How It Works",level:2},{id:"quantization-types",title:"Quantization Types",level:2},{id:"converting",title:"Converting Models",level:2},{id:"quality",title:"Quality Comparison",level:2}];function d(){return(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsxs)("article",{className:"flex-1 min-w-0 py-8 px-6 lg:px-10",children:[(0,i.jsx)(l.lv,{title:"Quantization",description:"Understanding ZSE's quantization options and how they affect performance, memory, and output quality.",badge:"Core Concepts"}),(0,i.jsxs)(l.Je,{id:"overview",title:"Overview",children:[(0,i.jsx)("p",{className:"mb-4",children:"Quantization reduces model precision from 16-bit floats to smaller formats like 4-bit integers. This dramatically reduces memory usage and improves inference speed with minimal quality loss."}),(0,i.jsxs)(n.gy,{columns:3,children:[(0,i.jsx)(n.Zb,{title:"63-72%",description:"Memory reduction with INT4"}),(0,i.jsx)(n.Zb,{title:"11.6\xd7",description:"Faster cold starts"}),(0,i.jsx)(n.Zb,{title:"< 1%",description:"Quality degradation"})]})]}),(0,i.jsxs)(l.Je,{id:"how-it-works",title:"How It Works",children:[(0,i.jsxs)("p",{className:"mb-4",children:["Traditional inference engines quantize models at runtime, which takes 30-60 seconds for 7B models. ZSE pre-quantizes models to the ",(0,i.jsx)(r.Z,{children:".zse"})," format, eliminating this overhead."]}),(0,i.jsx)("div",{className:"my-6 p-4 rounded-lg border border-white/[0.06] bg-white/[0.02]",children:(0,i.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,i.jsxs)("div",{className:"flex-1 text-center",children:[(0,i.jsx)("div",{className:"text-white/50 mb-1",children:"Original Model"}),(0,i.jsx)("div",{className:"text-white font-semibold",children:"14 GB (FP16)"})]}),(0,i.jsx)("div",{className:"text-lime",children:"→"}),(0,i.jsxs)("div",{className:"flex-1 text-center",children:[(0,i.jsx)("div",{className:"text-white/50 mb-1",children:"zQuantize"}),(0,i.jsx)("div",{className:"text-lime font-semibold",children:"Pre-quantize"})]}),(0,i.jsx)("div",{className:"text-lime",children:"→"}),(0,i.jsxs)("div",{className:"flex-1 text-center",children:[(0,i.jsx)("div",{className:"text-white/50 mb-1",children:".zse File"}),(0,i.jsx)("div",{className:"text-white font-semibold",children:"4.2 GB (INT4)"})]})]})}),(0,i.jsxs)("p",{className:"mb-4",children:["The ",(0,i.jsx)(r.Z,{children:".zse"})," format stores:"]}),(0,i.jsx)(n.VS,{features:["Pre-quantized weights in INT4/NF4 format","Per-tensor scaling factors for accuracy","Model architecture and tokenizer","Optimized memory layout for fast loading"]})]}),(0,i.jsxs)(l.Je,{id:"quantization-types",title:"Quantization Types",children:[(0,i.jsx)("p",{className:"mb-4",children:"ZSE supports multiple quantization formats:"}),(0,i.jsx)("div",{className:"overflow-x-auto my-4",children:(0,i.jsxs)("table",{className:"w-full text-sm",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-white/10",children:[(0,i.jsx)("th",{className:"text-left py-2 pr-4 text-white/50 font-medium",children:"Type"}),(0,i.jsx)("th",{className:"text-left py-2 px-4 text-white/50 font-medium",children:"Bits"}),(0,i.jsx)("th",{className:"text-left py-2 px-4 text-white/50 font-medium",children:"Memory"}),(0,i.jsx)("th",{className:"text-left py-2 px-4 text-white/50 font-medium",children:"Quality"}),(0,i.jsx)("th",{className:"text-left py-2 pl-4 text-white/50 font-medium",children:"Use Case"})]})}),(0,i.jsxs)("tbody",{className:"text-white/70",children:[(0,i.jsxs)("tr",{className:"border-b border-white/[0.05]",children:[(0,i.jsx)("td",{className:"py-2 pr-4",children:(0,i.jsx)(r.Z,{children:"int4"})}),(0,i.jsx)("td",{className:"py-2 px-4",children:"4"}),(0,i.jsx)("td",{className:"py-2 px-4 text-lime",children:"Best"}),(0,i.jsx)("td",{className:"py-2 px-4",children:"Good"}),(0,i.jsx)("td",{className:"py-2 pl-4",children:"Default, production"})]}),(0,i.jsxs)("tr",{className:"border-b border-white/[0.05]",children:[(0,i.jsx)("td",{className:"py-2 pr-4",children:(0,i.jsx)(r.Z,{children:"nf4"})}),(0,i.jsx)("td",{className:"py-2 px-4",children:"4"}),(0,i.jsx)("td",{className:"py-2 px-4 text-lime",children:"Best"}),(0,i.jsx)("td",{className:"py-2 px-4 text-lime",children:"Better"}),(0,i.jsx)("td",{className:"py-2 pl-4",children:"Higher quality 4-bit"})]}),(0,i.jsxs)("tr",{className:"border-b border-white/[0.05]",children:[(0,i.jsx)("td",{className:"py-2 pr-4",children:(0,i.jsx)(r.Z,{children:"int8"})}),(0,i.jsx)("td",{className:"py-2 px-4",children:"8"}),(0,i.jsx)("td",{className:"py-2 px-4",children:"Good"}),(0,i.jsx)("td",{className:"py-2 px-4 text-lime",children:"Best"}),(0,i.jsx)("td",{className:"py-2 pl-4",children:"Quality-sensitive tasks"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"py-2 pr-4",children:(0,i.jsx)(r.Z,{children:"fp16"})}),(0,i.jsx)("td",{className:"py-2 px-4",children:"16"}),(0,i.jsx)("td",{className:"py-2 px-4",children:"Baseline"}),(0,i.jsx)("td",{className:"py-2 px-4 text-lime",children:"Perfect"}),(0,i.jsx)("td",{className:"py-2 pl-4",children:"Reference, unlimited VRAM"})]})]})]})}),(0,i.jsxs)(a.U,{type:"tip",title:"Recommendation",children:["Use ",(0,i.jsx)(r.Z,{children:"nf4"})," (Normalized Float 4) for the best balance of quality and memory. It uses a non-linear quantization scheme that better preserves model accuracy."]})]}),(0,i.jsxs)(l.Je,{id:"converting",title:"Converting Models",children:[(0,i.jsx)("p",{className:"mb-4",children:"Convert any HuggingFace model to .zse format:"}),(0,i.jsx)(r.d,{language:"bash",code:"# INT4 (default, smallest size)\nzse convert Qwen/Qwen2.5-7B-Instruct -o qwen-7b.zse\n\n# NF4 (recommended, better quality)\nzse convert Qwen/Qwen2.5-7B-Instruct -o qwen-7b-nf4.zse --quant nf4\n\n# INT8 (larger but higher quality)\nzse convert Qwen/Qwen2.5-7B-Instruct -o qwen-7b-int8.zse --quant int8"}),(0,i.jsx)("p",{className:"mt-4 mb-2",children:"Conversion time depends on model size:"}),(0,i.jsx)("div",{className:"overflow-x-auto my-4",children:(0,i.jsxs)("table",{className:"w-full text-sm",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-white/10",children:[(0,i.jsx)("th",{className:"text-left py-2 pr-4 text-white/50 font-medium",children:"Model Size"}),(0,i.jsx)("th",{className:"text-left py-2 pl-4 text-white/50 font-medium",children:"Conversion Time"})]})}),(0,i.jsxs)("tbody",{className:"text-white/70",children:[(0,i.jsxs)("tr",{className:"border-b border-white/[0.05]",children:[(0,i.jsx)("td",{className:"py-2 pr-4",children:"7B"}),(0,i.jsx)("td",{className:"py-2 pl-4",children:"~20 seconds"})]}),(0,i.jsxs)("tr",{className:"border-b border-white/[0.05]",children:[(0,i.jsx)("td",{className:"py-2 pr-4",children:"14B"}),(0,i.jsx)("td",{className:"py-2 pl-4",children:"~45 seconds"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"py-2 pr-4",children:"32B"}),(0,i.jsx)("td",{className:"py-2 pl-4",children:"~2 minutes"})]})]})]})})]}),(0,i.jsxs)(l.Je,{id:"quality",title:"Quality Comparison",children:[(0,i.jsx)("p",{className:"mb-4",children:"Benchmark results on common evaluation tasks (higher is better):"}),(0,i.jsx)("div",{className:"overflow-x-auto my-4",children:(0,i.jsxs)("table",{className:"w-full text-sm",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-white/10",children:[(0,i.jsx)("th",{className:"text-left py-2 pr-4 text-white/50 font-medium",children:"Benchmark"}),(0,i.jsx)("th",{className:"text-center py-2 px-4 text-white/50 font-medium",children:"FP16"}),(0,i.jsx)("th",{className:"text-center py-2 px-4 text-white/50 font-medium",children:"INT8"}),(0,i.jsx)("th",{className:"text-center py-2 px-4 text-lime font-medium",children:"NF4"}),(0,i.jsx)("th",{className:"text-center py-2 pl-4 text-white/50 font-medium",children:"INT4"})]})}),(0,i.jsxs)("tbody",{className:"text-white/70",children:[(0,i.jsxs)("tr",{className:"border-b border-white/[0.05]",children:[(0,i.jsx)("td",{className:"py-2 pr-4",children:"MMLU"}),(0,i.jsx)("td",{className:"text-center py-2 px-4",children:"68.2"}),(0,i.jsx)("td",{className:"text-center py-2 px-4",children:"67.9"}),(0,i.jsx)("td",{className:"text-center py-2 px-4 text-lime",children:"67.5"}),(0,i.jsx)("td",{className:"text-center py-2 pl-4",children:"66.8"})]}),(0,i.jsxs)("tr",{className:"border-b border-white/[0.05]",children:[(0,i.jsx)("td",{className:"py-2 pr-4",children:"HumanEval"}),(0,i.jsx)("td",{className:"text-center py-2 px-4",children:"61.0"}),(0,i.jsx)("td",{className:"text-center py-2 px-4",children:"60.4"}),(0,i.jsx)("td",{className:"text-center py-2 px-4 text-lime",children:"59.8"}),(0,i.jsx)("td",{className:"text-center py-2 pl-4",children:"58.5"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"py-2 pr-4",children:"GSM8K"}),(0,i.jsx)("td",{className:"text-center py-2 px-4",children:"82.5"}),(0,i.jsx)("td",{className:"text-center py-2 px-4",children:"82.1"}),(0,i.jsx)("td",{className:"text-center py-2 px-4 text-lime",children:"81.4"}),(0,i.jsx)("td",{className:"text-center py-2 pl-4",children:"79.8"})]})]})]})}),(0,i.jsx)(a.U,{type:"info",children:"These benchmarks are for Qwen 2.5 7B. Quality retention varies by model architecture, but most modern LLMs maintain 95%+ of their original capability with NF4 quantization."})]}),(0,i.jsx)(l.KO,{prev:{title:"Model Formats",href:"/docs/model-formats"},next:{title:"Memory Management",href:"/docs/memory"}})]}),(0,i.jsx)(l.o5,{items:c})]})}},4987:function(e,t,s){"use strict";s.d(t,{Rg:function(){return n},VS:function(){return c},Zb:function(){return d},gy:function(){return m}});var i=s(3827),l=s(5293),r=s(9259),a=s(2169);function n(e){let{steps:t}=e;return(0,i.jsx)("div",{className:"my-6 space-y-0",children:t.map((e,s)=>(0,i.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"relative pl-8 pb-8 last:pb-0",children:[s<t.length-1&&(0,i.jsx)("div",{className:"absolute left-[11px] top-6 bottom-0 w-px bg-white/10"}),(0,i.jsx)("div",{className:"absolute left-0 top-0 w-6 h-6 rounded-full bg-lime/20 border border-lime/40 flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-xs font-bold text-lime",children:s+1})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-base font-semibold text-white mb-1",children:e.title}),e.description&&(0,i.jsx)("p",{className:"text-sm text-white/50 mb-3",children:e.description}),e.code&&(0,i.jsx)("pre",{className:"bg-white/[0.03] border border-white/[0.06] rounded-lg p-3 overflow-x-auto my-2",children:(0,i.jsx)("code",{className:"text-sm text-lime/90 font-mono",children:e.code})}),e.content&&(0,i.jsx)("div",{className:"text-sm text-white/70",children:e.content})]})]},s))})}function c(e){let{features:t}=e;return(0,i.jsx)("ul",{className:"my-4 space-y-2",children:t.map((e,t)=>(0,i.jsxs)(l.E.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"flex items-start gap-2",children:[(0,i.jsx)(r.Z,{className:"w-4 h-4 text-lime mt-0.5 flex-shrink-0"}),(0,i.jsx)("span",{className:"text-sm text-white/70",children:e})]},t))})}function d(e){let{title:t,description:s,icon:r,href:n,children:c}=e,d=n?"a":"div";return(0,i.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:n?{y:-2}:void 0,children:(0,i.jsxs)(d,{...n?{href:n,className:"block"}:{},className:(0,a.cn)("p-4 rounded-lg border border-white/[0.06] bg-white/[0.02]",n&&"hover:border-lime/30 hover:bg-white/[0.04] transition-all cursor-pointer"),children:[r&&(0,i.jsx)("div",{className:"w-8 h-8 rounded-lg bg-lime/10 flex items-center justify-center mb-3",children:(0,i.jsx)(r,{className:"w-4 h-4 text-lime"})}),(0,i.jsx)("h4",{className:"text-base font-semibold text-white mb-1",children:t}),s&&(0,i.jsx)("p",{className:"text-sm text-white/50",children:s}),c]})})}function m(e){let{children:t,columns:s=2}=e;return(0,i.jsx)("div",{className:(0,a.cn)("grid gap-4 my-6",2===s&&"md:grid-cols-2",3===s&&"md:grid-cols-3"),children:t})}}},function(e){e.O(0,[5293,2150,2716,2971,8069,1744],function(){return e(e.s=4959)}),_N_E=e.O()}]);